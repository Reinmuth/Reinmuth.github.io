<!DOCTYPE html>
<html>
    <head>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bruch in Kettenbruch umwandeln</title>
        <style>
            td {width: 80px; border: 1px solid black; text-align: center;}
            table{margin-left: auto;margin-right: auto;margin-top: 50px;}
            .operator{  border: 2;
                        outline: 2;
                        width: 120px;
                        height: 40px;
                        border-radius: 10px;
                        margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;}
            .display{    text-align: left;
    flex: 1;
    font-size: 25px;
    box-shadow: none;
    margin-bottom: 20px;
    font-size: larger;
}
        </style>


<link rel="icon" type="image/vnd.microsoft.icon" href="HP2.ico">
        
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div class="header">
<a style="margin-left: 5px;" href="index.html"> <img src="Banner2.PNG" width="200 px" name="Logo" title="Startseite" alt="Logo"> </a>		

<nav style="margin: 5px;">			
<ul>
    <li><a id="info" href="index.html">Übersicht</a></li>
    <li><a href="">Inhalte Zahlentheorie</a>          </li>
    <li><a class="current" href="DigitalTrainer.html">Übungen Zahlentheorie</a>	</li>

    
</ul>		
</nav>	
</div>
       
           <div class="container">
            <div style="color: black;" class="calculator" >
                <form> 
                    <h2 style="text-align:center">Kettenbruch aus Bruch</h2> 

                  
                   <div style="margin-top: 50px;text-align:center;">
                   
                    
                        <div style="text-align:center;"> 
                            <input id="Zähler1" placeholder="Zähler" class="BruchClass" style="text-align: center;font-size: larger; width:90px;"> <label>/</label>
                            <input id="Nenner1" placeholder="Nenner" class="BruchClass" style="text-align: center;font-size: larger; width:90px;">
                            <input type="button" value="Neues Beispiel" onclick=ZufallsZahl() class="equal operator">  
                              
                        </div> 
                    
                    </div>
                    <div style="text-align:center;">
                        <p>Lösung hier eingeben:</p>
                        
                    </div>
                    <p style="margin-left: 30%;" id="LösungsBruch"></p>
                    <div style="text-align:center;">
                        <label>[ </label><input id="EingabeKettenbruch" placeholder="1,1,2,3" class="BruchClass" style="text-align: center;font-size: larger; width:auto;"><label>] </label>
                        <input type="button" value="Lösung prüfen" onclick=Pruefen() class="equal operator">  
                        <input type="button" value="Lösung anzeigen" onclick=KettenBruch() class="equal operator">

                    </div>
    <!--            <div style="text-align:center;">
                        <input type="button"  value="Lösung" onclick=Prüf(1) class="equal operator">
                        <input type="button"  value="Lösungsweg" onclick=Prüf(2) class="equal operator">
                     </div> -->

       



                </form>
            </div>
        </div>
        <script>
        


        function KettenBruchUmwandeln() {        
                var FeldStr = document.getElementById("EingabeKettenbruch").value;
                var meinArray = [];
                FeldStr = FeldStr.split(",");
                
                for (i=0; i < FeldStr.length; i++) {
                    meinArray[i] = parseInt(FeldStr[i]);
                }
                return meinArray;
            }

        function LöschAlles(){
            document.getElementById("LösungsBruch").innerHTML = ""; 
            document.getElementById("EingabeKettenbruch").value = "";


            //Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { item.parentNode.removeChild(item); } );

        }
        /*
        function GanzeZahl(){
            
           /*  Prüfung ob es sich um ganze Zahlen handelt
           if ((document.getElementById("SupernummerDioA").value % 1 == 0) && (document.getElementById("SupernummerDioB").value % 1 == 0) ) {
            } else{
            
                document.getElementById("LösungsLabel").innerHTML = "Bitte ganzzahlige Werte nutzen.";

*/
        
    















                        
            function EuklidEA(a, b) {         //Berechnet den ggT mittels Euklidischem Algorithmus von a und b und gibt diesen an.
                while(b != 0 ) {
                    let ganzZ = a/b;
                    let Rest = a % b;
                    a = b;
                    b = Rest;
                }
                return(a);             
            }

            function TabelleFürEEA(a,b){    //gibt eine beschriftete ausführliche Tabelle für den EEA an.
                meinArray=EAArray(a,b);
                var tableArr = [["a","b","a div b","a mod b"]];
                tableArr = tableArr.concat(meinArray);
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { item.parentNode.removeChild(item); } );
                createTable(tableArr); 
            }



            function EAArray(a, b) { //Erstellt das Array mit allen Einträgen für den EA und gibt es zurück
                var meinArray = [];
                a = Math.abs(a);
                b = Math.abs(b);
      
                while(b != 0 ) {   //EEA
                    let ganzZ = Math.floor(a/b);
                    let Rest = a % b;
                    meinArray.push([a,b,ganzZ,Rest]);
                    a = b;
                    b = Rest;
                } 
                return(meinArray);             
            }

 /*           function EEAArray(a, b) {
                var meinArray = EAArray(a,b);
                let ArrayLaenge = meinArray.length;
                let x = 0;
                meinArray[ArrayLaenge-1][4]=x;
                let y = 1;
                meinArray[ArrayLaenge-1][5]=y;
                let z;

                for (i=1 ; i< ArrayLaenge;i++){
                    z=x;
                    x=y;
                    meinArray[ArrayLaenge-1-i][4]=x;
                    y=z-(meinArray[ArrayLaenge-1-i][2]*y);
                    meinArray[ArrayLaenge-1-i][5]=y;
                }
                return(meinArray)
            }
*/
            function EEATabelleAnzeigen(a,b) {
                var tableArr = [["a","b","a div b","a mod b","x","y"]];
                var tableArr = tableArr.concat(meinArray);
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) {item.parentNode.removeChild(item);} );
                createTable(tableArr);
                document.getElementById("LösungsLabel").innerHTML = "<br> Lösung des EEA in Tabellenform <br>"; 
            } 
            
         
                function createTable(tableData) {
                    var table = document.createElement('table');
                    var tableBody = document.createElement('tbody');

                    tableData.forEach(function(rowData) {
                        var row = document.createElement('tr');

                        rowData.forEach(function(cellData) {
                        var cell = document.createElement('td');
                        cell.appendChild(document.createTextNode(cellData));
                        row.appendChild(cell);
                        });

                        tableBody.appendChild(row);
                    });

                    table.appendChild(tableBody);
                    document.body.appendChild(table);
                }

          


            function ZufallsZahl() {
               LöschAlles();
               
                document.getElementById("Zähler1").value = Math.floor(Math.random()*99+1);
                document.getElementById("Nenner1").value = Math.floor(Math.random()*99+1);;

               
            }

           
            function KettenBruch() {        

                    x = document.getElementById("Zähler1").value/document.getElementById("Nenner1").value;

                
                KettenBruchRechner(x);

            }


            function KettenBruchRechner() {        
                
                    var meinArray = [];
                    var ZählerZ = document.getElementById("Zähler1").value;
                    var NennerZ = document.getElementById("Nenner1").value;
                    console.log(NennerZ,ZählerZ);
                    var i = 0;
                    while((i<10)&&(NennerZ != 0)){
                        meinArray[i]=Math.floor(ZählerZ/NennerZ)
                        var ZwNenner ;
                        ZwNenner = NennerZ;
                        NennerZ = ZählerZ - Math.floor(ZählerZ/NennerZ)*NennerZ;
                        ZählerZ = parseInt(ZwNenner);
                        console.log(NennerZ,ZählerZ);
                        i = i+1;
                        
                    

            


            }
            console.log(meinArray);
            AusgabeKettenBruch(meinArray);
        }

           
            function AusgabeKettenBruch(meinArray) {
                
                var Ausgabe = "";
                Ausgabe = "[ "+meinArray[0]+" ; ";
                for (i=1; i <= meinArray.length-1; i++){
                    Ausgabe += meinArray[i]+" , "
                }
                Ausgabe = Ausgabe.substr(0,Ausgabe.length-2);
                Ausgabe +=  "] oder aber ";
                meinArray[meinArray.length-1]=parseInt(meinArray[meinArray.length-1])-1;
                meinArray.push(1);

                Ausgabe += "[ "+meinArray[0]+" ; ";
                for (i=1; i <= meinArray.length-1; i++){
                    Ausgabe += meinArray[i]+" , "
                }
                Ausgabe = Ausgabe.substr(0,Ausgabe.length-2);
                Ausgabe +=  "]";
                document.getElementById("LösungsBruch").innerHTML = Ausgabe;
            }

          /*  function Pruefen(){
                
                    var meinArray = [];
                    var ZählerZ = document.getElementById("Zähler1").value;
                    var NennerZ = document.getElementById("Nenner1").value;
                    console.log(NennerZ,ZählerZ);
                    var i = 0;
                    while((i<10)&&(NennerZ != 0)){
                        meinArray[i]=Math.floor(ZählerZ/NennerZ)
                        var ZwNenner ;
                        ZwNenner = NennerZ;
                        NennerZ = ZählerZ - Math.floor(ZählerZ/NennerZ)*NennerZ;
                        ZählerZ = parseInt(ZwNenner);
                        console.log(NennerZ,ZählerZ);
                        i = i+1;
                        
                    }

            


            
            

            var meinAntwortArray = KettenBruchUmwandeln();
            var meinArrayNeu = meinArray;
            console.table(meinArray);
            console.table(meinAntwortArray);

            if ((meinAntwortArray.toString() === meinArray.toString()) ){
                document.getElementById("LösungsBruch").innerHTML = "Alles richtig";


            } else {
                document.getElementById("LösungsBruch").innerHTML = "Leider falsch.";
                meinArrayNeu[meinArrayNeu.length-1]=parseInt(meinArrayNeu[meinArrayNeu.length-1])-1;
                meinArrayNeu.push(1);
                console.table(meinArrayNeu);
                
                if ((meinAntwortArray.toString() === meinArrayNeu.toString()) ){
                    document.getElementById("LösungsBruch").innerHTML = "Alles richtig"; 
                }



            }
            
            } */
            function Pruefen() {        
                var FeldStr = document.getElementById("EingabeKettenbruch").value;
                var meinArray = [];
                FeldStr = FeldStr.split(",");
                
                for (i=0; i < FeldStr.length; i++) {
                    meinArray[i] = parseInt(FeldStr[i]);
                }
                console.table(meinArray);

                

                if (meinArray.length == 1){
                    Zähler = meinArray[0];
                    Nenner = 1
                    
                } else {

                    var Nenner;
                    var Zähler;
                    Nenner = meinArray[meinArray.length-1];
                    var Rest = 1;
                    for (i=0; i < meinArray.length-2; i++) {
                        Zähler = meinArray[meinArray.length-2-i]*Nenner+Rest;
                        Rest = Nenner; 
                        Nenner = Zähler;
                        console.log(Zähler,Nenner);
                    }
                    Zähler = meinArray[0]*Nenner+Rest


                }

                if (Zähler/Nenner == (document.getElementById("Zähler1").value/document.getElementById("Nenner1").value)){
                    document.getElementById("LösungsBruch").innerHTML = "Alles richtig";
                } else {
                    document.getElementById("LösungsBruch").innerHTML = "Leider falsch";
                }
            }
                
               
        

        </script>

    </body>
</html>
