<!DOCTYPE html>
<html>
    <head>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>EEA zweier Zahlen</title>
        <style>
            td {width: 80px; border: 1px solid black; text-align: center;}
            table{margin-left: auto;margin-right: auto;margin-top: 50px;}
            .operator{  border: 2;
                        outline: 2;
                        width: 160px;
                        height: 40px;
                        border-radius: 10px;
                        margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;}
            .display{    text-align: left;
    flex: 1;
    font-size: 25px;
    box-shadow: none;
    margin-bottom: 20px;
    font-size: larger;
}
        </style>



<script>            function Werteliste (querystring) {
    if (querystring == '') return;
    var wertestring = querystring.slice(1);
    var paare = wertestring.split("&");
    var paar, name, wert;
    for (var i = 0; i < paare.length; i++) {
      paar = paare[i].split("=");
      name = paar[0];
      wert = paar[1];
      name = unescape(name).replace("+", " ");
      wert = unescape(wert).replace("+", " ");
      this[name] = wert;
    }
  }





  </script>
        <link rel="icon" type="image/vnd.microsoft.icon" href="HP2.ico">
        
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
<body>
    <div class="header">
        <a style="margin-left: 5px;" href="index.html"> <img src="Banner2.PNG" width="200 px" name="Logo" title="Startseite" alt="Logo"> </a>		

    <nav style="margin: 5px;">			
        <ul>
            <li><a id="info" href="index.html">Übersicht</a></li>
            <li><a href="">Inhalte Zahlentheorie</a>          </li>
            <li><a class="current" href="DigitalTrainer.html">Übungen Zahlentheorie</a>	</li>

            
        </ul>		
    </nav>	
</div>
       
           <div class="container">
            <div style="color: black;" class="calculator" >
                <form> 
                    <h2 style="text-align:center"> Erweiterter Euklidischer Algorithmus </h2> 
                    <p style="text-align:center"> Bestimmen Sie die spezielle Werte für x und y mit x·a+y·b=ggT(a,b)</p> 
                    <div style="text-align:center" class="display">
                        <label>a =</label>
                        <input name="Antwort" style="font-size: larger; width:90px;margin-left: 5px; margin-right: 5px; text-align:center;" placeholder="Zahl" id="SupernummerEA">
                        <label>b =</label>
                        <input name="Antwort" style="font-size: larger; width:90px; text-align:center;" placeholder="Zahl" id="SupernummerEA1">
                        <input type="button" value="Neue Zahlen" onclick=StartiEA() class="equal operator">
                    </div>
                    


                   <div style="color: rgb(0, 0, 0);text-align: center;width: 180 px; height: 50 px;" class="display">
                        <input style="color: rgb(0, 0, 0);text-align:center;font-size: larger; width: 180 px;" type="text" name="display" id="SupernummerEA2" placeholder="Hier ggT(a,b) eingeben"> 
                        <input type="button" value="ggT Lösung prüfen" onclick=pruef1EA() class="equal operator">
                    </div>
                    <div style="text-align:center" class="display">
                        <label>x =</label>
                        <input style="font-size: larger; width:90px;margin-left: 5px; margin-right: 5px; text-align:center;" placeholder="Zahl" id="AntwortX">
                        <label>y =</label>
                        <input style="font-size: larger; width:90px;margin-left: 5px; margin-right: 5px; text-align:center;" placeholder="Zahl" id="AntwortY">
                        <input type="button" value="Werte prüfen" onclick=PrüfXY() class="equal operator">
                    </div>
                    
                    <p id="RueckmeldungEA" style="text-align: center"></p>

<!--                
                    <div>
                        <input type="button" value="AC" onclick="display.value = ''" class="operator">
                        <input type="button" value="DE" onclick="display.value = display.value.toString().slice(0,-1)" class="operator">
                        <input type="button" value="." onclick="display.value += '.'" class="operator">
                        <input type="button" value="/" onclick="display.value += '/'" class="operator">
                    </div>
                    <div>
                        <input type="button" value="7" onclick="display.value += '7'">
                        <input type="button" value="8" onclick="display.value += '8'">
                        <input type="button" value="9" onclick="display.value += '9'">
                        <input type="button" value="*" onclick="display.value += '*'" class="operator">
                    </div>
                    <div>
                        <input type="button" value="4" onclick="display.value += '4'">
                        <input type="button" value="5" onclick="display.value += '5'">
                        <input type="button" value="6" onclick="display.value += '6'">
                        <input type="button" value="-" onclick="display.value += '-'" class="operator">
                    </div>
                    <div>
                        <input type="button" value="1" onclick="display.value += '1'">
                        <input type="button" value="2" onclick="display.value += '2'">
                        <input type="button" value="3" onclick="display.value += '3'">
                        <input type="button" value="+" onclick="display.value += '+'" class="operator">
                    </div> -->

                    <div style="text-align:center;">
                        
                        
                        
                       <!-- <input type="button" value="RR" onclick=restarti()> -->

                     <!--  <input type="button" value="=" onclick="display.value = eval(display.value)" class="equal operator"> 
                    </div>
                    <div style="text-align:center;">
                        <input type="button"  value="ggT Lösung anzeigen" onclick=AngabeLoesungEA() class="equal operator">
                        <input type="button" value="Lösungsweg EA" onclick=LoesungswegEA() class="equal operator">
                        --> 
                       <!-- <input type="button" value="RR" onclick=restarti()> -->

                     <!--  <input type="button" value="=" onclick="display.value = eval(display.value)" class="equal operator"> --> 
                    </div>
                    <div style="text-align:center;">
                        <input type="button" value="EEA Lösung anzeigen" onclick=EARueck() class="equal operator">
                        <input type="button" value="EEA Lösungsweg" onclick=EEARueck() class="equal operator">
                        
                       <!-- <input type="button" value="RR" onclick=restarti()> -->

                     <!--  <input type="button" value="=" onclick="display.value = eval(display.value)" class="equal operator"> --> 
                    </div>
                </form>
                <p id="Rueckmeldung2EA" style="margin-left:40%;"></p>
                <p id="Rueckmeldung3EA" style="margin-left:40%;"></p>
                <p id="Rueckmeldung4EA" style="margin-left:40%;"></hp>
            </div>
        </div>
        <script>
            var meinArray = [];
            var tableArr = [];




            var liste = new Werteliste(location.search);
if (liste.name1 == undefined) {

} else{
  document.getElementById("SupernummerEA").value=liste.name1;

}
if (liste.name2 == undefined) {

} else{
    document.getElementById("SupernummerEA1").value=liste.name2;

}                



                        
        function AngabeLoesungEA() {
            document.getElementById("SupernummerEA2").value = EuklidEA();
            }

        /*    function Solution() {
                document.getElementById("Rueckmeldung").innerHTML = "Wir bestimmen die Primfaktorzerlegung von a und b.";
                document.getElementById("Rueckmeldung2").innerHTML ="a=2<sup>"+c[0]+"</sup>·"+"3<sup>"+c[1]+"</sup>"+"·5<sup>"+c[2]+"</sup>"+"·7<sup>"+c[3]+"</sup>"+"·11<sup>"+c[4]+"</sup> "+" und " + "b=2<sup>"+d[0]+"</sup>"+"·3<sup>"+d[1]+"</sup>"+"·5<sup>"+d[2]+"</sup>"+"·7<sup>"+d[3]+"</sup>"+"·11<sup>"+d[4]+"</sup>";
                document.getElementById("Rueckmeldung3").innerHTML = "Für das kgV nehmen wir das Maximum der Exponenten der jeweiligen Primfaktoren";
                let ggT;
                let ErgO = [];
                for (i = 0; i<5 ; i++){
                    ErgO[i]=Math.max(c[i], d[i]);
                    }
                ggT = ArrayZuZahl(ErgO);
                document.getElementById("Rueckmeldung4").innerHTML ="ggT(a,b)=2<sup>max("+c[0]+","+d[0]+")</sup>"+"·3<sup>max("+c[1]+","+d[1]+")</sup>"+"·5<sup>max("+c[2]+","+d[2]+")</sup>"+"·7<sup>max("+c[3]+","+d[3]+")</sup>"+"·11<sup>max("+c[4]+","+d[4]+")</sup>"+"=2<sup>"+ErgO[0]+"</sup>"+"·3<sup>"+ErgO[1]+"</sup>"+"·5<sup>"+ErgO[2]+"</sup>"+"·7<sup>"+ErgO[3]+"</sup>"+"·11<sup>"+ErgO[4]+"</sup> = "+ggT;
            } */

            function EuklidEA() {
                var meinArray = [];
                var a = Math.abs(document.getElementById("SupernummerEA").value);
                console.log(a);
                var b = Math.abs(document.getElementById("SupernummerEA1").value);
                console.log(b);
                if (a < b) {

                } else {
                    var u = a;
                    a= b;
                    b= u;
                }

                if((a != "") && (b != "")) {
                    while(b != 0 ) {
                    let ganzZ = a/b;
                let Rest = a % b;
                a = b;
                b = Rest;
                console.log(a);
                }
                return(a); 
                } 
              
            }

            function LoesungswegEA(){
                meinArray=EuklidEEA();
                console.table(meinArray);
                var tableArr = [["a","b","a div b","a mod b"]];
                tableArr = tableArr.concat(meinArray);
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { item.parentNode.removeChild(item); } );
                createTable(tableArr); 
                document.getElementById("Rueckmeldung2EA").innerHTML = " ";
                document.getElementById("Rueckmeldung3EA").innerHTML = " ";
                document.getElementById("Rueckmeldung4EA").innerHTML = " ";
                var gleichungsLoesung = "Euklidischer Algorithmus in Gleichungsform <br><br>";
                for (i=0; i<meinArray.length;i++) {
                gleichungsLoesung += meinArray[i][0]+" = "+meinArray[i][2]+" * " + meinArray[i][1] + " + " + meinArray[i][3] + "<br>";
                }
                gleichungsLoesung += "<br><br> Euklidischer Algorithmus in Tabellenform ";
                document.getElementById("Rueckmeldung2EA").innerHTML = gleichungsLoesung; 
 
            }
            function EuklidEEA() {
                var meinArray = [];
                var a = Math.abs(document.getElementById("SupernummerEA").value);
                console.log(a);
                var b = Math.abs(document.getElementById("SupernummerEA1").value);
                console.log(b);
                var j = 0;
                if((a != "") && (b != "")) {
                    while(b != 0 ) {
                    j = j+1;

                    let ganzZ = Math.floor(a/b);
                let Rest = a % b;
                meinArray.push([a,b,ganzZ,Rest]);
                a = b;
                b = Rest;
                console.table(meinArray);
                
                }
                return(meinArray); 
                } 
              
            }

            function EARueck() {
                EuklidEEA();
                var meinArray = EuklidEEA();
                let ArrayLaenge = meinArray.length;
                console.log(ArrayLaenge);
                let ArrayBreita = meinArray[0].length;
                let x = 0;
                meinArray[ArrayLaenge-1][4]=x;
                let y = 1;
                meinArray[ArrayLaenge-1][5]=y;
                let z;
                for (i=1 ; i< ArrayLaenge;i++){
                    z=x;
                    x=y;
                    meinArray[ArrayLaenge-1-i][4]=x;
                    y=z-(meinArray[ArrayLaenge-1-i][2]*y);
                    meinArray[ArrayLaenge-1-i][5]=y;
                    console.log("x= "+x+" und y = "+y);
                }
                if (document.getElementById("SupernummerEA").value < 0) {
                    x=-x;
                }
                if (document.getElementById("SupernummerEA1").value < 0) {
                    y=-y;
                }
                console.log("x = "+x+" und y = "+y)
                document.getElementById("RueckmeldungEA").innerHTML = "ggT(a,b) = "+EuklidEA()+"  &nbsp; &nbsp;   x = "+x+" &nbsp; &nbsp; y = "+y;
                                                
                } 
                
                function PrüfXY() {
                EuklidEEA();
                var meinArray = EuklidEEA();
                let ArrayLaenge = meinArray.length;
                console.log(ArrayLaenge);
                let ArrayBreita = meinArray[0].length;
                let x = 0;
                meinArray[ArrayLaenge-1][4]=x;
                let y = 1;
                meinArray[ArrayLaenge-1][5]=y;
                let z;
                for (i=1 ; i< ArrayLaenge;i++){
                    z=x;
                    x=y;
                    meinArray[ArrayLaenge-1-i][4]=x;
                    y=z-(meinArray[ArrayLaenge-1-i][2]*y);
                    meinArray[ArrayLaenge-1-i][5]=y;
                    console.log("x= "+x+" und y = "+y);
                }
                if (document.getElementById("SupernummerEA").value < 0) {
                    x=-x;
                }
                if (document.getElementById("SupernummerEA1").value < 0) {
                    y=-y;
                }
                console.log(x,y);
                if ((document.getElementById("AntwortX").value == x) && (document.getElementById("AntwortY").value == y)) {
                    document.getElementById("RueckmeldungEA").innerHTML = "Super, die Werte sind richtig";
                } else {
                    document.getElementById("RueckmeldungEA").innerHTML = "Leider falsche Werte für x und y";
                }
                
                                                
            } 
                function EEARueck() {
                EuklidEEA();
                var meinArray = EuklidEEA();
                let ArrayLaenge = meinArray.length;
                console.log(ArrayLaenge);
                let ArrayBreita = meinArray[0].length;
                let x = 0;
                meinArray[ArrayLaenge-1][4]=x;
                let y = 1;
                meinArray[ArrayLaenge-1][5]=y;
                let z;
                for (i=1 ; i< ArrayLaenge;i++){
                    z=x;
                    x=y;
                    meinArray[ArrayLaenge-1-i][4]=x;
                    y=z-(meinArray[ArrayLaenge-1-i][2]*y);
                    meinArray[ArrayLaenge-1-i][5]=y;
                    console.log("x= "+x+" und y = "+y);
                }
                if (document.getElementById("SupernummerEA").value < 0) {
                    x=-x;
                }
                if (document.getElementById("SupernummerEA1").value < 0) {
                    y=-y;
                }
                            
                console.table(meinArray);
                

                var tableArr = [["a","b","a div b","a mod b","x","y"]];
                console.table(tableArr);
                var tableArr = tableArr.concat(meinArray);

                console.table(tableArr);
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { 
   item.parentNode.removeChild(item); 
} );
                createTable(tableArr);
                var gleichungsLoesung2 = "Euklidischer Algorithmus in Gleichungsform und umgestellt<br><br>";
                for (i=0; i<meinArray.length-1;i++) {
                gleichungsLoesung2 += meinArray[i][0]+" = "+meinArray[i][2]+" * " + meinArray[i][1] + " + " + meinArray[i][3] + "  \t   &rarr;    " + meinArray[i][3]+" = "+meinArray[i][0]+" - " + meinArray[i][2] + " * " + meinArray[i][1] + "<br>";
                }
                gleichungsLoesung2 += meinArray[meinArray.length-1][0]+" = "+meinArray[meinArray.length-1][2]+" * " + meinArray[meinArray.length-1][1] + " + " + meinArray[meinArray.length-1][3];
                document.getElementById("Rueckmeldung2EA").innerHTML = gleichungsLoesung2; 

                var gleichungsLoesung3 = "Lösung in Gleichungsform: <br> <br>";
                gleichungsLoesung3 += meinArray[meinArray.length-1][1];
                for (i=meinArray.length-1; i>1 ; i--) {
                
                gleichungsLoesung3 += " = " + meinArray[i-1][4] + "*" + meinArray[i-1][0] + " + (" + meinArray[i-1][5] + ") * " + meinArray[i-1][1] + " = "+meinArray[i-1][0]+" - " + meinArray[i-1][2] + " * (" + meinArray[i-2][0]+" - " + meinArray[i-2][2] + " * " + meinArray[i-2][1] +") <br>";

                }
                gleichungsLoesung3 += " = " + meinArray[0][4] + "*" + meinArray[0][0] + " + " + meinArray[0][5] + " * " + meinArray[0][1] + "<br> <br> <br> Lösung in Tabellenform <br>"
                
                document.getElementById("Rueckmeldung3EA").innerHTML = gleichungsLoesung3; 
               }

                
                

                function createTable(tableData) {
  var table = document.createElement('table');
  var tableBody = document.createElement('tbody');

  tableData.forEach(function(rowData) {
    var row = document.createElement('tr');

    rowData.forEach(function(cellData) {
      var cell = document.createElement('td');
      cell.appendChild(document.createTextNode(cellData));
      row.appendChild(cell);
    });

    tableBody.appendChild(row);
  });

  table.appendChild(tableBody);
  document.body.appendChild(table);
}

            function StartiEA() {
                var c = Math.round(Math.random()*99+1);
                var d = Math.round(Math.random()*99+1);
                console.log(c);
                console.log(d);
                document.getElementById("RueckmeldungEA").innerHTML = " ";
                document.getElementById("Rueckmeldung2EA").innerHTML = " ";
                document.getElementById("Rueckmeldung3EA").innerHTML = " ";
                document.getElementById("Rueckmeldung4EA").innerHTML = " ";
                var ZwErg1 = c;
                var ZwErg2 = d;
                if (ZwErg1 < ZwErg2) {
                    var u = ZwErg1;
                    ZwErg1= ZwErg2;
                    ZwErg2= u;
                } else {
                    
                }

                document.getElementById("SupernummerEA").value = ZwErg1;
                document.getElementById("SupernummerEA1").value = ZwErg2;
                document.getElementById("SupernummerEA2").value = "";
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { 
   item.parentNode.removeChild(item); 
} );
                }

            function pruef1EA() {
                let SErg = document.getElementById("SupernummerEA2").value;
                let ggT;
                ggT = EuklidEA();
                if(SErg == ggT) {
                    document.getElementById("RueckmeldungEA").innerHTML = "Super, der ggT ist korrekt.";
                } else {
                    document.getElementById("RueckmeldungEA").innerHTML = "Der ggT ist leider falsch";
                }
            }


        </script>

    </body>
</html>
