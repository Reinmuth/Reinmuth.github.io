<!DOCTYPE html>
<html>
    <head>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Kongruenzgleichung lösen</title>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <style>
            td {width: 80px; border: 1px solid black; text-align: center;}
            table{margin-left: auto;margin-right: auto;margin-top: 50px;}
            .operator{  border: 2;
                        outline: 2;
                        width: 150px;
                        height: 40px;
                        border-radius: 10px;
                        margin-left: 2px;margin-right: 2px;margin-top: 2px;margin-bottom: 2px;}
            .display{    text-align: left;
    flex: 1;
    font-size: 25px;
    box-shadow: none;
    margin-bottom: 20px;
    font-size: larger;
}
        </style>

        <link rel="icon" type="image/vnd.microsoft.icon" href="HP2.ico">
        
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
<body>
    <div class="header">
        <a style="margin-left: 5px;" href="index.html"> <img src="Banner2.PNG" width="200 px" name="Logo" title="Startseite" alt="Logo"> </a>		

    <nav style="margin: 5px;">			
        <ul>
            <li><a id="info" href="index.html">Übersicht</a></li>
            <li><a href="">Inhalte Zahlentheorie</a>          </li>
            <li><a class="current" href="DigitalTrainer.html">Übungen Zahlentheorie</a>	</li>

            
        </ul>		
    </nav>	
</div>
       
           <div class="container">
            <div style="color: black;" class="calculator" >
                <form> 
                    <h2 style="text-align:center"> Kongruenzgleichung lösen</h2> 
                    <p style="text-align:center"> Geben Sie die Lösung der Kongruenzgleichung an $$ a·x &equiv; c \, (mod \, m)$$</p> 
                    <div style="text-align:center" class="display">
                        
                        <input type="number" step="1" name="Antwort" style="font-size: larger; width:90px;margin-left: 5px; margin-right: 5px; text-align: center;" id="SupernummerDioA" placeholder="a">
                        <label>* x  </label>
                        <label> &equiv; </label>
                        <input type="number" step="1" name="Antwort2" style="font-size: larger; width:90px;text-align: center;" id="SupernummerDioC" placeholder="c">
                        <label> (mod </label>
                        <input type="number" step="1" name="Antwort1" style="font-size: larger; width:90px;text-align: center;" id="SupernummerDioB" placeholder="m">
                        <label>  )</label>
                        <input type="button" value="Neue Zahlen" onclick=StartiEA() class="equal operator">
                    </div>
                    
                   <div style="color: rgb(0, 0, 0);text-align: center; height: 60 px;">
                        <input style="color: rgb(0, 0, 0);text-align:center; font-size:x-large; width:120px; margin-right: 8px;" type="text" name="display" id="SupernummerDioX" placeholder="x">
                        <input hidden style="color: rgb(0, 0, 0);text-align:center; font-size: x-large; width:120px; margin-left: 8px;" type="text" name="display" id="SupernummerDioY" placeholder="y">
                        <input type="button" value="Prüfen" onclick=pruef1EA() class="equal operator">
                        <input type="button" value="Nicht Lösbar" onclick=RueckmeldungUnloesbar() class="equal operator" hidden id="BUnloesbar" >
                    </div>
                    
                    <div id="div1" style="display:none;" >
                        <div style="text-align:center; margin-top: 10px;" >  
                           <label>X = x + </label>
                           <input style="font-size: larger; width:90px;margin-left: 5px; margin-right: 5px; text-align: center;" id="EModX">
   
                           <label>· n     und     </label>
 
                           <label>Y = y -</label>
                           <input style="font-size: larger; width:90px;margin-left: 5px; margin-right: 5px; text-align: center;" id="EModY"  >
                           <label>· n      </label>
                        </div>
                       </div>

                    <p id="RueckmeldungEA" style="text-align: center"></p>

                    <div style="text-align:center;">
                        
                        
                        
                       <!-- <input type="button" value="RR" onclick=restarti()> -->

                     <!--  <input type="button" value="=" onclick="display.value = eval(display.value)" class="equal operator"> --> 
                    </div>
                    <div  style="text-align:center;">
                        <input type="button"  value="Lösung angeben" onclick=EARueck() class="equal operator">
                        <input type="button" value="Lösungsweg anzeigen" onclick=EEARueck() class="equal operator">
                    </div>
                    <div  hidden style="text-align:center;">
                        <input type="checkbox" hidden name="unloesbCheck" style="font-size: larger; width:10px; align-content: center;" id="unloesbCheck">
                        
                    </div> 
                    <div hidden style="text-align:center;">
                        <input type="checkbox" name="allgLoes" style="font-size: larger; width:10px; align-content: center;" id="allgLoesCheck">
                        <label>Allgemeine Lösungen mit angeben</label>
                    </div> 
                       <!-- <input type="button" value="RR" onclick=restarti()> -->

                     <!--  <input type="button" value="=" onclick="display.value = eval(display.value)" class="equal operator"> 
                    </div>
                    <div style="text-align:center;">
                        <input type="button" value="EEA Loesung" onclick=EARueck() class="equal operator">
                        <input type="button" value="EEA Lösungsweg" onclick=EEARueck() class="equal operator">
                         -->
                       <!-- <input type="button" value="RR" onclick=restarti()> -->

                     <!--  <input type="button" value="=" onclick="display.value = eval(display.value)" class="equal operator"> --> 

                    <p id="Rueckmeldung2EA" style="margin-left:30%;"></p>
                    <p id="Rueckmeldung3EA" style="margin-left:30%;"></p>
                    <p id="Rueckmeldung4EA" style="margin-left:30%;"></hp>
<!--                
                    <div>
                        <input type="button" value="AC" onclick="display.value = ''" class="operator">
                        <input type="button" value="DE" onclick="display.value = display.value.toString().slice(0,-1)" class="operator">
                        <input type="button" value="." onclick="display.value += '.'" class="operator">
                        <input type="button" value="/" onclick="display.value += '/'" class="operator">
                    </div>
                    <div>
                        <input type="button" value="7" onclick="display.value += '7'">
                        <input type="button" value="8" onclick="display.value += '8'">
                        <input type="button" value="9" onclick="display.value += '9'">
                        <input type="button" value="*" onclick="display.value += '*'" class="operator">
                    </div>
                    <div>
                        <input type="button" value="4" onclick="display.value += '4'">
                        <input type="button" value="5" onclick="display.value += '5'">
                        <input type="button" value="6" onclick="display.value += '6'">
                        <input type="button" value="-" onclick="display.value += '-'" class="operator">
                    </div>
                    <div>
                        <input type="button" value="1" onclick="display.value += '1'">
                        <input type="button" value="2" onclick="display.value += '2'">
                        <input type="button" value="3" onclick="display.value += '3'">
                        <input type="button" value="+" onclick="display.value += '+'" class="operator">
                    </div> -->


                </form>
            </div>
        </div>
        <script>
            var meinArray = [];
            var tableArr = [];
            var e;
            var unloes;

        
        function GanzeZahl(){
            if ((document.getElementById("SupernummerDioA").value % 1 == 0) && (document.getElementById("SupernummerDioB").value % 1 == 0) && (document.getElementById("SupernummerDioC").value % 1 == 0)) {
        } else{
            document.getElementById("RueckmeldungEA").innerHTML = "Bitte ganzzahlige Werte nutzen.";
                document.getElementById("Rueckmeldung2EA").innerHTML = ""; 
                document.getElementById("Rueckmeldung3EA").innerHTML = ""; 
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { 
                item.parentNode.removeChild(item); 
                } );
        }
    }

        function UnloesbarTest() {
            let k;
            if (document.getElementById("SupernummerDioC").value % EuklidEA() == 0) {
                document.getElementById("RueckmeldungEA").innerHTML = "falsch, die Gleichung ist lösbar";
                k=false;
            } else {
                document.getElementById("RueckmeldungEA").innerHTML = "richtig, die Gleichung ist nicht lösbar";
                k=true;
            }
            return(k);
         }

         function RueckmeldungUnloesbar() {
            if (UnloesbarTest() == false) {
                document.getElementById("RueckmeldungEA").innerHTML = "die Gleichung ist lösbar";
                
            } else {
                document.getElementById("RueckmeldungEA").innerHTML = "die Gleichung ist nicht lösbar";
                
            }
            GanzeZahl();
         }
                        
        function AngabeLoesungEA() {
            document.getElementById("SupernummerDioX").value = EuklidEA();
            }

        /*    function Solution() {
                document.getElementById("Rueckmeldung").innerHTML = "Wir bestimmen die Primfaktorzerlegung von a und b.";
                document.getElementById("Rueckmeldung2").innerHTML ="a=2<sup>"+c[0]+"</sup>·"+"3<sup>"+c[1]+"</sup>"+"·5<sup>"+c[2]+"</sup>"+"·7<sup>"+c[3]+"</sup>"+"·11<sup>"+c[4]+"</sup> "+" und " + "b=2<sup>"+d[0]+"</sup>"+"·3<sup>"+d[1]+"</sup>"+"·5<sup>"+d[2]+"</sup>"+"·7<sup>"+d[3]+"</sup>"+"·11<sup>"+d[4]+"</sup>";
                document.getElementById("Rueckmeldung3").innerHTML = "Für das kgV nehmen wir das Maximum der Exponenten der jeweiligen Primfaktoren";
                let ggT;
                let ErgO = [];
                for (i = 0; i<5 ; i++){
                    ErgO[i]=Math.max(c[i], d[i]);
                    }
                ggT = ArrayZuZahl(ErgO);
                document.getElementById("Rueckmeldung4").innerHTML ="ggT(a,b)=2<sup>max("+c[0]+","+d[0]+")</sup>"+"·3<sup>max("+c[1]+","+d[1]+")</sup>"+"·5<sup>max("+c[2]+","+d[2]+")</sup>"+"·7<sup>max("+c[3]+","+d[3]+")</sup>"+"·11<sup>max("+c[4]+","+d[4]+")</sup>"+"=2<sup>"+ErgO[0]+"</sup>"+"·3<sup>"+ErgO[1]+"</sup>"+"·5<sup>"+ErgO[2]+"</sup>"+"·7<sup>"+ErgO[3]+"</sup>"+"·11<sup>"+ErgO[4]+"</sup> = "+ggT;
            } */

            function EuklidEA() {
                var meinArray = [];
                var a = Math.abs(document.getElementById("SupernummerDioA").value);
                
                var b = Math.abs(document.getElementById("SupernummerDioB").value);
                

                if((a != "") && (b != "")) {
                    while(b != 0 ) {
                    let ganzZ = a/b;
                let Rest = a % b;
                a = b;
                b = Rest;
                
                }
                return(a); 
                } 
              
            }

            function LoesungswegEA(){
                meinArray=EuklidEEA();
         
                var tableArr = [["a","b","a div b","a mod b"]];
                tableArr = tableArr.concat(meinArray);
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { item.parentNode.removeChild(item); } );
                createTable(tableArr); 
 
            }
            function EuklidEEA() {
                var meinArray = [];
                
                var a = Math.abs(document.getElementById("SupernummerDioA").value);
              
                var b = Math.abs(document.getElementById("SupernummerDioB").value);
      
                var j = 0;
                if((a != "") && (b != "")) {
                    while(b != 0 ) {
                    j = j+1;

                    let ganzZ = Math.floor(a/b);
                let Rest = a % b;
                meinArray.push([a,b,ganzZ,Rest]);
                
                a = b;
                b = Rest;

                
                }
 
                return(meinArray); 
                } 
              
            }

            function EARueck() {
                if (UnloesbarTest()==true) {
                    RueckmeldungUnloesbar();
                } else {
                EuklidEEA();
                var meinArray = EuklidEEA();
                let ArrayLaenge = meinArray.length;

                let ArrayBreita = meinArray[0].length;
                let x = 0;
                meinArray[ArrayLaenge-1][4]=x;
                let y = 1;
                meinArray[ArrayLaenge-1][5]=y;
                let z;
                for (i=1 ; i< ArrayLaenge;i++){
                    z=x;
                    x=y;
                    meinArray[ArrayLaenge-1-i][4]=x;
                    y=z-(meinArray[ArrayLaenge-1-i][2]*y);
                    meinArray[ArrayLaenge-1-i][5]=y;

                }
                if (document.getElementById("SupernummerDioA").value < 0) {
                    x=-x;
                }
                if (document.getElementById("SupernummerDioB").value < 0) {
                    y=-y;
                }
                e=document.getElementById("SupernummerDioC").value;
                e=e/EuklidEA();
                y=e*y;
                x=e*x;
                let modX;
                let modY;
                let ggT = EuklidEA();
                let HvarB=document.getElementById("SupernummerDioB").value;
                modX = HvarB/ggT;
                let HvarA=document.getElementById("SupernummerDioA").value;
                modY = HvarA/ggT;


                document.getElementById("RueckmeldungEA").innerHTML = "x= "+x+"+("+modX+")·n und y = "+y+"-("+modY+")·n";
                GanzeZahl();
            }
                 
                } 
              
                function EEARueck() {
                EuklidEEA();
                var meinArray = EuklidEEA();
                let ArrayLaenge = meinArray.length;

                let ArrayBreita = meinArray[0].length;
                let x = 0;
                meinArray[ArrayLaenge-1][4]=x;
                let y = 1;
                meinArray[ArrayLaenge-1][5]=y;
                let z;
                for (i=1 ; i< ArrayLaenge;i++){
                    z=x;
                    x=y;
                    meinArray[ArrayLaenge-1-i][4]=x;
                    y=z-(meinArray[ArrayLaenge-1-i][2]*y);
                    meinArray[ArrayLaenge-1-i][5]=y;

                }
                if (document.getElementById("SupernummerDioA").value < 0) {
                    x=-x;
                }
                if (document.getElementById("SupernummerDioB").value < 0) {
                    y=-y;
                }
                            

                

                var tableArr = [["a","b","a div b","a mod b","x","y"]];

                var tableArr = tableArr.concat(meinArray);


                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { 
                item.parentNode.removeChild(item); 
                } );
                createTable(tableArr);
                var gleichungsLoesung2 = "Euklidischer Algorithmus in Gleichungsform und umgestellt<br><br>";
                for (i=0; i<meinArray.length-1;i++) {
                gleichungsLoesung2 += meinArray[i][0]+" = "+meinArray[i][2]+" * " + meinArray[i][1] + " + " + meinArray[i][3] + "  \t   &rarr;    " + meinArray[i][3]+" = "+meinArray[i][0]+" - " + meinArray[i][2] + " * " + meinArray[i][1] + "<br>";
                }
                gleichungsLoesung2 += meinArray[meinArray.length-1][0]+" = "+meinArray[meinArray.length-1][2]+" * " + meinArray[meinArray.length-1][1] + " + " + meinArray[meinArray.length-1][3];
                document.getElementById("Rueckmeldung2EA").innerHTML = gleichungsLoesung2; 

                var gleichungsLoesung3 = "Lösung in Gleichungsform: <br> <br>";
                gleichungsLoesung3 += meinArray[meinArray.length-1][1];
                for (i=meinArray.length-1; i>1 ; i--) {
                
                gleichungsLoesung3 += " = " + meinArray[i-1][4] + "*" + meinArray[i-1][0] + " + (" + meinArray[i-1][5] + ") * " + meinArray[i-1][1] + " = "+meinArray[i-1][0]+" - " + meinArray[i-1][2] + " * (" + meinArray[i-2][0]+" - " + meinArray[i-2][2] + " * " + meinArray[i-2][1] +") <br>";

                }
                gleichungsLoesung3 += " = " + meinArray[0][4] + "*" + meinArray[0][0] + " + " + meinArray[0][5] + " * " + meinArray[0][1];
                gleichungsLoesung3 +="<br><br>Multiplikation der Gleichung <br>";
                gleichungsLoesung3 +=meinArray[0][4] + "*" + meinArray[0][0] + " + " + meinArray[0][5] + " * (" + meinArray[0][1] + ") = " + meinArray[meinArray.length-1][1];
                e=document.getElementById("SupernummerDioC").value;
                e=e/EuklidEA();
                gleichungsLoesung3 +="<br>mit der Zahl "+ e +" liefert: <br>";
                gleichungsLoesung3 +=e*meinArray[0][4] + "*" + meinArray[0][0] + " + " + e*meinArray[0][5] + " * (" + meinArray[0][1] + ") = " + e*meinArray[meinArray.length-1][1];
                
                                if (document.getElementById("allgLoesCheck").checked == true){
                  gleichungsLoesung3 +="<br> <br> Bestimmung der allgemeinen Lösungen <br>";
                  gleichungsLoesung3 +="Für die allgemeine Lösung von X gilt X=x + n · b/ggT(a,b) = "+e*meinArray[0][4]+"+ n·"+meinArray[0][1]+"/"+EuklidEA()+"="+e*meinArray[0][4]+"+ n·"+meinArray[0][1]/EuklidEA() +"<br>";
                  gleichungsLoesung3 +="Für die allgemeine Lösung von Y gilt Y=y - n · a/ggT(a,b) = "+e*meinArray[0][5]+"- n·"+meinArray[0][0]+"/"+EuklidEA()+"="+e*meinArray[0][5]+"- n·"+meinArray[0][0]/EuklidEA()+"<br>";
                } else {
               
                }

                gleichungsLoesung3 +="<br> <br> <br> Lösung des EEA in Tabellenform <br>";
                

                

                document.getElementById("Rueckmeldung3EA").innerHTML = gleichungsLoesung3; 


                if (document.getElementById("SupernummerDioC").value % EuklidEA() == 0) {

                } else {
                document.getElementById("RueckmeldungEA").innerHTML = "die Gleichung ist nicht Lösbar";
                document.getElementById("Rueckmeldung2EA").innerHTML = "Der ggT der beiden Zahlen a und b, also ggT("+document.getElementById("SupernummerDioA").value+" ,"+document.getElementById("SupernummerDioB").value+") = "+EuklidEA()+" teilt die Zahl "+document.getElementById("SupernummerDioC").value+" nicht!"; 
                document.getElementById("Rueckmeldung3EA").innerHTML = ""; 
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { 
                item.parentNode.removeChild(item); 
                } );
               }
               GanzeZahl();
            }

                
                

                function createTable(tableData) {
  var table = document.createElement('table');
  var tableBody = document.createElement('tbody');

  tableData.forEach(function(rowData) {
    var row = document.createElement('tr');

    rowData.forEach(function(cellData) {
      var cell = document.createElement('td');
      cell.appendChild(document.createTextNode(cellData));
      row.appendChild(cell);
    });

    tableBody.appendChild(row);
  });

  table.appendChild(tableBody);
  document.body.appendChild(table);
}

            function StartiEA() {
                var c = Math.round(Math.random()*99-30);
                var d = Math.round(Math.random()*99-30);
                var e = Math.round(Math.random()*99-50);

                if (e == 0){e=1;} 
                if (c == 0){c=1;} 

                document.getElementById("RueckmeldungEA").innerHTML = " ";
                document.getElementById("Rueckmeldung2EA").innerHTML = " ";
                document.getElementById("Rueckmeldung3EA").innerHTML = " ";
                document.getElementById("Rueckmeldung4EA").innerHTML = " ";
                Array.prototype.slice.call(document.getElementsByTagName('table')).forEach(function(item) { 
                item.parentNode.removeChild(item); 
                } );
                var ZwErg1 = c;
                document.getElementById("SupernummerDioA").value = ZwErg1;
                var ZwErg2 = Math.abs(d);
                document.getElementById("SupernummerDioB").value = ZwErg2;
                
                if (document.getElementById("unloesbCheck").checked == true){
                    document.getElementById("SupernummerDioC").value = e;
                    document.getElementById("SupernummerDioC").value = e;
                    document.getElementById("BUnloesbar").removeAttribute("hidden");

                } else {
                    document.getElementById("SupernummerDioC").value = e*EuklidEA();
                    document.getElementById("SupernummerDioC").value = e*EuklidEA();
                    document.getElementById("BUnloesbar").getAttribute("hidden");
                }


                if (document.getElementById("allgLoesCheck").checked == true){
                  
                    document.getElementById("div1").style.display = "block";
                    
                } else {
                    

                    document.getElementById("div1").style.display = 'none';
                }
                // Unloesbar Button und Antwort noch einfügen
                document.getElementById("SupernummerDioX").value = "";
                document.getElementById("SupernummerDioY").value = "";
                document.getElementById("EModX").value = "";
                document.getElementById("EModY").value = "";
                }

            function pruef1EA() {
                
                EuklidEEA();
                var meinArray = EuklidEEA();
                let ArrayLaenge = meinArray.length;
 
                let ArrayBreita = meinArray[0].length;
                let x = 0;
                meinArray[ArrayLaenge-1][4]=x;
                let y = 1;
                meinArray[ArrayLaenge-1][5]=y;
                let z;
                for (i=1 ; i< ArrayLaenge;i++){
                    z=x;
                    x=y;
                    meinArray[ArrayLaenge-1-i][4]=x;
                    y=z-(meinArray[ArrayLaenge-1-i][2]*y);
                    meinArray[ArrayLaenge-1-i][5]=y;

                }
                if (document.getElementById("SupernummerDioA").value < 0) {
                    x=-x;
                }
                if (document.getElementById("SupernummerDioB").value < 0) {
                    y=-y;
                }
                e=document.getElementById("SupernummerDioC").value;
                e=e/EuklidEA();
                y=e*y;
                x=e*x;
                let modX;
                let modY;
                let ggT = EuklidEA();
                let HvarB=document.getElementById("SupernummerDioB").value;
                modX = HvarB/ggT;
                let HvarA=document.getElementById("SupernummerDioA").value;
                modY = HvarA/ggT;
                
                if (document.getElementById("allgLoesCheck").checked == true){
                  
                    let AntwDioX = document.getElementById("SupernummerDioX").value;
                    let AntwDioY = document.getElementById("SupernummerDioY").value;

                    if((AntwDioX*document.getElementById("SupernummerDioA").value - document.getElementById("SupernummerDioC").value) % document.getElementById("SupernummerDioB").value == 0 ) {
                        
                        if ((Math.abs(document.getElementById("EModX").value)== Math.abs(modX))) {

                            document.getElementById("RueckmeldungEA").innerHTML = "Super - alles richtig";
                        }else{
                            document.getElementById("RueckmeldungEA").innerHTML = "Leider falsch - Allgemeine Lösungen passen nicht!";
                        }
                        




                    } else {
                        document.getElementById("RueckmeldungEA").innerHTML = "Leider falsch - Spezielle Lösungen passen nicht!";
                    }
            
                } else {
                    let AntwDioX = document.getElementById("SupernummerDioX").value;
                    let AntwDioY = document.getElementById("SupernummerDioY").value;

                    if((AntwDioX*document.getElementById("SupernummerDioA").value - document.getElementById("SupernummerDioC").value) % document.getElementById("SupernummerDioB").value == 0 ) {
                        document.getElementById("RueckmeldungEA").innerHTML = "Super";
                    } else {
                        document.getElementById("RueckmeldungEA").innerHTML = "Leider falsch";
                    }
            }
            
            if (document.getElementById("SupernummerDioC").value % EuklidEA() == 0) {
                
            } else {
                document.getElementById("RueckmeldungEA").innerHTML = " die Gleichung ist nicht Lösbar";
               
            }
            GanzeZahl();
        }


        

        </script>

    </body>
</html>
